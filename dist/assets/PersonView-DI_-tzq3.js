import{a as f}from"./axios-Bo0ATomq.js";import{t as L,H as C}from"./HeaderComponent-eauQwiil.js";import{s as N,C as E,N as S}from"./NotLogin-DwVwAIB4.js";import{_ as O,f as g,g as R,l as B,c as t,a as v,w as H,b as e,t as l,F as x,j as y,k as M,r as m,o,n as j,p as V,e as W}from"./index-Bw_72BcY.js";const p="https://hangoutserver.onrender.com",q=N(),w=L(),D={components:{HeaderComponent:C,ChatRoomNav:E,NotLogin:S},setup(){const i=g(""),d=g({email:"",userInfo:{},petInfo:{},lifePic:[]}),I=a=>a.indexOf(i.value)>=0,s=a=>{a.whoLikes.indexOf(i.value)>=0?(a.whoLikes.splice(a.whoLikes.indexOf(i.value),1),f.patch(`${p}/users/${d.value.id}`,{lifePic:d.value.lifePic}).then(()=>{w.pushMessage("info","已收回喜歡")}).catch(n=>{console.log(n)})):(a.whoLikes.push(i.value),f.patch(`${p}/users/${d.value.id}`,{lifePic:d.value.lifePic}).then(()=>{w.pushMessage("success","已送出喜歡")}).catch(n=>{console.log(n)}))},h=g([]),k=a=>{try{return h.value.filter(_=>_.id==a)[0].userInfo.pic}catch(n){return console.log(n),""}},u=a=>{try{return h.value.filter(_=>_.id==a)[0].userInfo.name}catch(n){return console.log(n),"無法顯示"}};return R(()=>{q.navState="browse",i.value=localStorage.getItem("userId");const a=B().proxy.$route.query.id;i.value&&(f.get(`${p}/users/${a}`).then(n=>{d.value.id=n.data.id,d.value.email=n.data.email,d.value.userInfo=n.data.userInfo,d.value.petInfo=n.data.petInfo,d.value.lifePic=n.data.lifePic}).catch(n=>{console.log(n)}),f.get(`${p}/users`).then(n=>{h.value=n.data}).catch(n=>{console.log(n)}))}),{userId:i,personInfo:d,likePost:s,alreadyLike:I,likerPic:k,likerName:u}}},c=i=>(V("data-v-3bdd5a52"),i=i(),W(),i),F=c(()=>e("span",{class:"material-icons me-sm-3"},"chat",-1)),T=c(()=>e("span",{class:"d-none d-sm-block"},"點我聊天",-1)),U=c(()=>e("span",{class:"d-sm-none"},"點我",-1)),z=c(()=>e("span",{class:"d-sm-none"},"聊天",-1)),A={key:0,class:"bg-hangout-bg pt-4 pb-7"},G={class:"container"},J={class:"row justify-content-center"},K={class:"col-10 col-lg-8"},Q={class:"row"},X={class:"col-sm-6"},Y={class:"mb-5"},Z=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"我的頭像")],-1)),$={class:"headPicEffect ratio ratio-1x1"},ee=["src"],se={key:1,src:"https://github.com/patrickpie83/HangOut/blob/master/public/images/img_memberPic.png?raw=true",alt:"defaulfUserPic"},oe={class:"mb-5"},te=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"會員名稱")],-1)),ne={class:"memberEffect border border-hangout-second border-2 py-3"},ce={key:0,class:"text-center"},ae={key:1,class:"text-center text-hangout-second fw-bold"},ie={class:"mb-5"},de=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"性別")],-1)),le={class:"memberEffect border border-hangout-second border-2 py-3"},re={key:0,class:"text-center"},_e={key:1,class:"text-center text-hangout-second fw-bold"},he={class:"mb-5"},fe=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"性取向")],-1)),me={class:"memberEffect border border-hangout-second border-2 py-3"},pe={key:0,class:"text-center"},ue={key:1,class:"text-center text-hangout-second fw-bold"},be={class:"col-sm-6"},ge={class:"mb-5"},ve=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"寵物頭像")],-1)),xe={class:"headPicEffect ratio ratio-1x1"},Ie=["src"],ke={key:1,src:"https://github.com/patrickpie83/HangOut/blob/master/public/images/img_petPic.png?raw=true",alt:"defaultPetPic"},ye={class:"mb-5"},we=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"寵物名稱")],-1)),Pe={class:"memberEffect border border-hangout-second border-2 py-3"},Le={key:0,class:"text-center"},Ce={key:1,class:"text-center text-hangout-second fw-bold"},Ne={class:"mb-5"},Ee=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"寵物品種")],-1)),Se={class:"memberEffect border border-hangout-second border-2 py-3"},Oe={key:0,class:"text-center"},Re={key:1,class:"text-center text-hangout-second fw-bold"},Be={class:"mb-5"},He=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"寵物性別")],-1)),Me={class:"memberEffect border border-hangout-second border-2 py-3"},je={key:0,class:"text-center"},Ve={key:1,class:"text-center text-hangout-second fw-bold"},We={class:"row pb-6 border-bottom"},qe={class:"col"},De=c(()=>e("div",{class:"d-flex align-items-center mb-2"},[e("span",null,"關於我")],-1)),Fe={class:"memberEffect border border-hangout-second border-2 p-4"},Te={key:0},Ue={key:1,class:"text-hangout-second fw-bold"},ze=c(()=>e("div",{class:"row mt-6 mb-4"},[e("div",{class:"col-6 col-lg-9 d-flex align-items-center"},[e("span",null,"生活照")])],-1)),Ae={key:0,class:"row"},Ge={class:"bg-white shadow-sm border border-hangout-second border-2",style:{"border-radius":"30px"}},Je=["onClick"],Ke={class:"d-sm-flex justify-content-sm-between"},Qe={class:"ratio ratio-1x1 postPic"},Xe=["src"],Ye={class:"postText mt-4 mt-sm-0"},Ze={class:"py-4 px-5"},$e={class:"d-flex align-items-center"},es={key:0,type:"button",class:"ms-5 text-hangout-text","data-bs-toggle":"modal","data-bs-target":"#seeWhoLikes"},ss={key:1,class:"ms-5"},os={class:"modal fade",id:"seeWhoLikes",tabindex:"-1","aria-labelledby":"seeWhoLikesModalLabel","aria-hidden":"true"},ts={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},ns={class:"modal-content"},cs=c(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"這些人按了喜歡")],-1)),as={class:"modal-body"},is={class:"container"},ds={class:"col-6 d-flex justify-content-center"},ls=["src"],rs={class:"col-6 d-flex align-items-center"},_s=c(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉")],-1)),hs={key:1,class:"row"},fs=c(()=>e("div",{class:"col-12 mb-7"},[e("div",{class:"bg-white shadow-sm border border-hangout-second border-2",style:{"border-radius":"30px"}},[e("div",{class:"bg-hangout-block p-7",style:{"border-radius":"28px"}},[e("p",{class:"text-center text-hangout-second fw-bold"},"這位用戶目前還沒有貼文")])])],-1)),ms=[fs];function ps(i,d,I,s,h,k){const u=m("HeaderComponent"),a=m("router-link"),n=m("NotLogin"),_=m("ChatRoomNav");return o(),t(x,null,[v(u),v(a,{to:{path:"/chatroom/"+s.personInfo.id,query:{targetId:s.personInfo.id}},type:"button",class:"chatBtn d-flex flex-column flex-sm-row align-items-center text-decoration-none"},{default:H(()=>[F,T,U,z]),_:1},8,["to"]),s.userId?(o(),t("div",A,[e("div",G,[e("div",J,[e("div",K,[e("div",Q,[e("div",X,[e("div",Y,[Z,e("div",$,[s.personInfo.userInfo.pic?(o(),t("img",{key:0,src:s.personInfo.userInfo.pic,alt:"userPic"},null,8,ee)):(o(),t("img",se))])]),e("div",oe,[te,e("div",ne,[s.personInfo.userInfo.name?(o(),t("p",ce,l(s.personInfo.userInfo.name),1)):(o(),t("p",ae,"尚未填寫"))])]),e("div",ie,[de,e("div",le,[s.personInfo.userInfo.gender?(o(),t("p",re,l(s.personInfo.userInfo.gender),1)):(o(),t("p",_e,"尚未填寫"))])]),e("div",he,[fe,e("div",me,[s.personInfo.userInfo.sexualOrientation?(o(),t("p",pe,l(s.personInfo.userInfo.sexualOrientation),1)):(o(),t("p",ue,"尚未填寫"))])])]),e("div",be,[e("div",ge,[ve,e("div",xe,[s.personInfo.petInfo.pic?(o(),t("img",{key:0,src:s.personInfo.petInfo.pic,alt:"petPic"},null,8,Ie)):(o(),t("img",ke))])]),e("div",ye,[we,e("div",Pe,[s.personInfo.petInfo.name?(o(),t("p",Le,l(s.personInfo.petInfo.name),1)):(o(),t("p",Ce,"尚未填寫"))])]),e("div",Ne,[Ee,e("div",Se,[s.personInfo.petInfo.breed?(o(),t("p",Oe,l(s.personInfo.petInfo.breed),1)):(o(),t("p",Re,"尚未填寫"))])]),e("div",Be,[He,e("div",Me,[s.personInfo.petInfo.gender?(o(),t("p",je,l(s.personInfo.petInfo.gender),1)):(o(),t("p",Ve,"尚未填寫"))])])])]),e("div",We,[e("div",qe,[De,e("div",Fe,[s.personInfo.userInfo.intro?(o(),t("p",Te,l(s.personInfo.userInfo.intro),1)):(o(),t("p",Ue,"尚未填寫"))])])]),ze,s.personInfo.lifePic.length>0?(o(),t("div",Ae,[(o(!0),t(x,null,y(s.personInfo.lifePic,r=>(o(),t("div",{key:r.createDate,class:"col-12 mb-4"},[e("div",Ge,[e("div",{onClick:b=>s.likePost(r),class:"likeBg p-5",style:{"border-radius":"28px"}},[e("div",Ke,[e("div",Qe,[e("img",{class:"w-100",src:r.postImg,alt:""},null,8,Xe)]),e("p",Ye,l(r.postText),1)]),e("span",{class:j([{"text-hangout-second":s.alreadyLike(r.whoLikes)},"likeIcon material-icons position-absolute"])}," favorite ",2)],8,Je),e("div",Ze,[e("div",$e,[r.whoLikes.length>0?(o(),t("a",es,l(r.whoLikes.length)+"人",1)):(o(),t("span",ss,"0人"))])]),e("div",os,[e("div",ts,[e("div",ns,[cs,e("div",as,[e("div",is,[(o(!0),t(x,null,y(r.whoLikes,(b,P)=>(o(),t("div",{key:P,class:"row border-bottom pb-3 mb-3"},[e("div",ds,[e("img",{src:s.likerPic(b),alt:"",style:{width:"80px",height:"80px"}},null,8,ls)]),e("div",rs,[e("p",null,l(s.likerName(b)),1)])]))),128))])]),_s])])])])]))),128))])):(o(),t("div",hs,ms))])])])])):(o(),M(n,{key:1})),v(_)],64)}const xs=O(D,[["render",ps],["__scopeId","data-v-3bdd5a52"]]);export{xs as default};
